(function(t){function e(e){for(var a,n,i=e[0],c=e[1],l=e[2],u=0,m=[];u<i.length;u++)n=i[u],Object.prototype.hasOwnProperty.call(r,n)&&r[n]&&m.push(r[n][0]),r[n]=0;for(a in c)Object.prototype.hasOwnProperty.call(c,a)&&(t[a]=c[a]);d&&d(e);while(m.length)m.shift()();return s.push.apply(s,l||[]),o()}function o(){for(var t,e=0;e<s.length;e++){for(var o=s[e],a=!0,i=1;i<o.length;i++){var c=o[i];0!==r[c]&&(a=!1)}a&&(s.splice(e--,1),t=n(n.s=o[0]))}return t}var a={},r={app:0},s=[];function n(e){if(a[e])return a[e].exports;var o=a[e]={i:e,l:!1,exports:{}};return t[e].call(o.exports,o,o.exports,n),o.l=!0,o.exports}n.m=t,n.c=a,n.d=function(t,e,o){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:o})},n.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var o=Object.create(null);if(n.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var a in t)n.d(o,a,function(e){return t[e]}.bind(null,a));return o},n.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="/fast-snack-front/";var i=window["webpackJsonp"]=window["webpackJsonp"]||[],c=i.push.bind(i);i.push=e,i=i.slice();for(var l=0;l<i.length;l++)e(i[l]);var d=c;s.push([0,"chunk-vendors"]),o()})({0:function(t,e,o){t.exports=o("56d7")},"0473":function(t,e,o){"use strict";o("c53e")},"14fd":function(t,e,o){"use strict";(function(t){var e=o("2b0e"),a=o("bc3a"),r=o.n(a);e["default"].use({install:function(e){e.prototype.$http=r.a.create({baseURL:"https://fast-snack-back-heroku.herokuapp.com/api/v1/"}),e.prototype.$http.interceptors.response.use((function(t){return t.data}),(function(e){401==e.response.status&&(t.location.href="".concat(t.location.origin,"/login"))}))}})}).call(this,o("c8ba"))},"56d7":function(t,e,o){"use strict";o.r(e);o("e260"),o("e6cf"),o("cca6"),o("a79d");var a=o("2b0e"),r=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("v-app",[o("MainMenu",{attrs:{userLogged:t.userLogged}}),o("v-main",[o("router-view")],1)],1)},s=[],n=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",[o("v-app-bar",{attrs:{app:"",color:"#26a69a",dark:""}},[t.userLogged?o("v-app-bar-nav-icon",{on:{click:function(e){t.drawer=!0}}}):t._e(),o("v-toolbar-title",[t._v(t._s(t.title))]),o("v-spacer"),o("CartModal"),o("v-icon",{on:{click:t.logoutUser}},[t._v("mdi-logout")])],1),t.userLogged?o("v-navigation-drawer",{attrs:{absolute:"",temporary:""},model:{value:t.drawer,callback:function(e){t.drawer=e},expression:"drawer"}},[o("v-list-item-group",[o("v-list",[o("v-list-item",{on:{click:t.home}},[o("v-list-item-icon",[o("v-icon",[t._v("mdi-home")])],1),o("v-list-item-title",[t._v("Home")])],1),o("v-list-item",{on:{click:t.demandControl}},[o("v-list-item-icon",[o("v-icon",[t._v("mdi-newspaper")])],1),o("v-list-item-title",[t._v("Pedidos")])],1),o("v-list-item",{on:{click:t.usersControl}},[o("v-list-item-icon",[o("v-icon",[t._v("mdi-account-circle")])],1),o("v-list-item-title",[t._v("Usuarios")])],1)],1)],1)],1):t._e()],1)},i=[],c=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("v-row",{attrs:{justify:"space-around"}},[o("v-dialog",{attrs:{transition:"dialog-top-transition","max-width":"90%"},scopedSlots:t._u([{key:"activator",fn:function(e){var a=e.on,r=e.attrs;return[o("v-btn",t._g(t._b({attrs:{color:"white",icon:""}},"v-btn",r,!1),a),[o("v-icon",[t._v("mdi-cart")])],1)]}},{key:"default",fn:function(e){return[o("v-card",[o("v-toolbar",{attrs:{color:"#26a69a",dark:""}}),o("v-card-text",[o("div",{staticClass:"text-h5 pa-8"},[t._v(" Itens "),o("v-col",t._l(t.foodList,(function(e){return o("v-card",{key:e.id,staticClass:"d-flex pa-3 ma-2",attrs:{outlined:"",tile:""}},[o("div",{staticClass:"item"},[o("v-img",{attrs:{"max-height":"10%","max-width":"10%",src:e.urlImage}}),o("div",{staticClass:"pa-2 ms-10"},[t._v(" "+t._s(e.name)+" ")]),o("v-spacer"),o("div",{staticClass:"text-h5 me-16"},[t._v(" "+t._s("R$ "+e.price*e.amount)+" ")]),o("div",{staticStyle:{display:"flex"}},[o("v-btn",{staticClass:"mx-2",attrs:{fab:"",dark:"",small:"",color:"red"},on:{click:function(o){return t.removeAmount(e)}}},[o("v-icon",{attrs:{color:"white",dark:""}},[t._v(" mdi-minus ")])],1),o("div",{staticClass:"text-h5"},[o("span",[t._v(t._s(e.amount))])]),o("v-btn",{staticClass:"mx-2",attrs:{fab:"",dark:"",small:"",color:"#02ba70"},on:{click:function(o){return t.addAmount(e)}}},[o("v-icon",{attrs:{color:"white",dark:""}},[t._v(" mdi-plus ")])],1),o("div",{staticClass:"remove text-h6 mb-14"},[o("a",{staticStyle:{color:"#ff6a00 !important"},on:{click:function(o){return t.removeItem(e)}}},[t._v("Remover")])])],1)],1)])})),1)],1),o("v-row",{attrs:{justify:"space-around"}},[o("v-spacer"),o("div",{staticClass:"text-h5"},[o("span",[t._v("Total: R$ "+t._s(t.total))])]),o("v-spacer"),o("div",[o("v-text-field",{attrs:{label:"Mesa do pedido"},model:{value:t.table,callback:function(e){t.table=e},expression:"table"}})],1)],1)],1),o("v-card-actions",{staticClass:"justify-end"},[o("v-btn",{attrs:{text:"",id:"btn-voltar"},on:{click:function(t){e.value=!1}}},[t._v(" Voltar ")]),o("v-btn",{attrs:{text:"",color:"primary"},on:{click:t.confirmRequest}},[t._v(" Confirmar Pedido ")])],1)],1)]}}])})],1)},l=[],d=o("5530"),u=(o("d81d"),o("4de4"),o("d3b7"),o("159b"),{data:function(){return{foodList:[],table:0}},computed:{total:function(){var t=0;return this.foodList.length>0&&this.foodList.map((function(e){return t+=e.amount*e.price})),t}},methods:{addAmount:function(t){t.amount+=1},removeAmount:function(t){t.amount>0&&(t.amount-=1)},removeItem:function(t){this.foodList=this.foodList.filter((function(e){return e._id!=t._id}))},confirmRequest:function(){var t=this;if(this.foodList.length&&0!=this.table){var e={foods:[]};e.table=this.table,this.foodList.forEach((function(t){for(var o=0;o<t.amount;o++){var a=Object(d["a"])({},t);e.foods.push(a)}})),this.$http.post("demands",e).then((function(e){t.$router.push("/demand/".concat(e._id)),t.resetAll(),document.getElementById("btn-voltar").click()}))}},resetAll:function(){this.foodList=[],this.table=0}},mounted:function(){var t=this;this.$root.$on("addToCart",(function(e){var o=t.foodList.filter((function(t){return t._id==e._id}))[0];null!=o?o.amount+=e.amount:t.foodList.push(e)}))},components:{}}),m=u,f=(o("0473"),o("2877")),v=Object(f["a"])(m,c,l,!1,null,null,null),p=v.exports,h={data:function(){return{drawer:!1,group:null}},props:{title:{type:String,default:"Fast Snack"},userLogged:{}},components:{CartModal:p},methods:{logoutUser:function(){localStorage.removeItem("user_logged"),this.$store.dispatch("setToken",null),this.$router.push({path:"/login"})},demandControl:function(){this.$router.push({path:"/demands"})},usersControl:function(){this.$router.push({path:"/users"})},home:function(){this.$router.push({path:"/catalog"})}}},b=h,g=Object(f["a"])(b,n,i,!1,null,null,null),_=g.exports,k={name:"App",components:{MainMenu:_},data:function(){return{userLogged:""}},updated:function(){this.userLogged=localStorage.getItem("user_logged")}},w=k,x=Object(f["a"])(w,r,s,!1,null,null,null),C=x.exports,$=o("ce5b"),y=o.n($);o("bf40");a["default"].use(y.a);var A=new y.a({theme:{themes:{light:{primary:"#007BFF",secondary:"#424242",accent:"#82B1FF",error:"#FF5252",info:"#2196F3",success:"#4CAF50",warning:"#FFC107"}}}}),S=(o("d5e8"),o("5363"),o("8c4f")),P=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("v-conteiner",[o("v-btn",{staticClass:"ma-4",staticStyle:{color:"white"},attrs:{color:"#26a69a"},on:{click:function(e){t.formDialog=!0}}},[t._v(" Adicionar Usuário ")]),o("v-card",[o("UsersTable",{attrs:{users:t.users},on:{deleteUser:t.deleteUser}})],1),t.formDialog?o("UserForm",{on:{closeForm:function(e){t.formDialog=!1},userSaved:t.updateUsers}}):t._e()],1)},O=[],T=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("v-conteiner",[o("v-data-table",{staticClass:"ma-6",attrs:{headers:t.headers,items:t.users},scopedSlots:t._u([{key:"item.actions",fn:function(e){var a=e.item;return[o("v-icon",{attrs:{color:"red",dark:""},on:{click:function(e){return t.$emit("deleteUser",a)}}},[t._v(" mdi-delete-outline ")]),o("v-icon",{attrs:{color:"blue",dark:""},on:{click:function(e){return t.$emit("selectUser",a)}}},[t._v(" mdi-pencil-outline ")])]}}])})],1)},L=[],j={props:{users:{}},data:function(){return{headers:[{text:"Código",value:"_id"},{text:"E-mail",value:"email",sortable:!0},{text:"Nome",value:"name",sortable:!0},{text:"Senha",value:"password"},{value:"actions"}]}}},E=j,F=Object(f["a"])(E,T,L,!1,null,null,null),I=F.exports,U=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("v-dialog",{attrs:{"max-width":"1000px",persistent:"",value:!0}},[o("v-card",[o("v-card-title",[t._v(" Salvar Usuário ")]),o("v-card-text",[o("v-form",{ref:"form",attrs:{"lazy-validation":""},model:{value:t.valid,callback:function(e){t.valid=e},expression:"valid"}},[o("v-app-bar",{attrs:{app:"",dark:"",color:"#26a69a"}},[o("v-toolbar-title",[t._v("Fast Snack Registration")])],1),o("v-text-field",{attrs:{"prepend-icon":"mdi-account-circle",counter:10,rules:t.nameRules,label:"Nome",required:""},model:{value:t.user.name,callback:function(e){t.$set(t.user,"name",e)},expression:"user.name"}}),o("v-text-field",{attrs:{"prepend-icon":"mdi-email",rules:t.emailRules,label:"E-mail",required:""},model:{value:t.user.email,callback:function(e){t.$set(t.user,"email",e)},expression:"user.email"}}),o("v-text-field",{attrs:{label:"Senha",required:"",type:t.showPassword?"text":"password","prepend-icon":"mdi-lock",rules:t.passwordRules,"append-icon":t.showPassword?"mdi-eye":"mdi-eye-off"},on:{"click:append":function(e){t.showPassword=!t.showPassword}},model:{value:t.user.password,callback:function(e){t.$set(t.user,"password",e)},expression:"user.password"}}),o("v-text-field",{attrs:{label:"Confirmar Senha",rules:[t.user.password===t.user.validatePassword||"A senha deve coincidir"],required:"",type:t.showConfirmPassword?"text":"password","prepend-icon":"mdi-lock","append-icon":t.showConfirmPassword?"mdi-eye":"mdi-eye-off"},on:{"click:append":function(e){t.showConfirmPassword=!t.showConfirmPassword}},model:{value:t.user.validatePassword,callback:function(e){t.$set(t.user,"validatePassword",e)},expression:"user.validatePassword"}})],1)],1),o("v-card-actions",[o("v-btn",{staticClass:"mr-4",attrs:{disabled:!t.valid,color:"success"},on:{click:t.saveUser}},[t._v(" Cadastrar ")]),o("v-btn",{staticClass:"mr-4",attrs:{color:"info"},on:{click:t.reset}},[t._v(" Limpar ")]),o("v-btn",{staticClass:"mr-4",on:{click:function(e){return t.$emit("closeForm")}}},[t._v(" Cancelar ")])],1)],1)],1)},D=[],N=(o("ac1f"),o("00b4"),{data:function(){return{showPassword:!1,showConfirmPassword:!1,valid:!0,user:{},nameRules:[function(t){return!!t||"Nome é obrigatório"}],passwordRules:[function(t){return t&&t.length>=10||"Senha deve conter mais de 10 caracteres"}],emailRules:[function(t){return!!t||"E-mail é obrigatório"},function(t){return/.+@.+\..+/.test(t)||"E-mail deve ser válido"}]}},methods:{saveUser:function(){var t=this,e=Object(d["a"])({},this.user);if(delete e.validatePassword,e.office="Administrador",this.$refs.form.validate()){var o={headers:{Authorization:"Bearer "+this.$store.getters.getAcessToken}};this.$http.post("users",e,o).then((function(){t.$emit("userSaved")}))}},reset:function(){this.$refs.form.reset()},resetValidation:function(){this.user.password.length>0&&this.user.validatePassword.length>0&&(this.user.password!=this.user.validatePassword?alert("TESTE: As senha não são iguais"):alert("TESTE: As senha são iguais"))}}}),R=N,M=Object(f["a"])(R,U,D,!1,null,null,null),B=M.exports,z={components:{UsersTable:I,UserForm:B},data:function(){return{users:[],formDialog:!1}},methods:{updateUsers:function(){var t=this,e={headers:{Authorization:"Bearer "+this.$store.getters.getAcessToken}};this.$http.get("users",e).then((function(e){t.users=e,t.formDialog=!1}))},deleteUser:function(t){var e=this,o=Object(d["a"])({},t),a={headers:{Authorization:"Bearer "+this.$store.getters.getAcessToken}};this.$http.delete("users/".concat(o._id),a,o).then((function(){e.updateUsers()}))}},mounted:function(){this.updateUsers()}},V=z,q=Object(f["a"])(V,P,O,!1,null,null,null),G=q.exports,J=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("v-app",[o("v-app-bar",{attrs:{app:"",dark:"",color:"#26a69a"}},[o("v-toolbar-title",[t._v("Fast Snack Login")])],1),o("v-content",[o("v-card",{staticClass:"mx-auto mt-9",attrs:{width:"500"}},[o("v-card-title",[t._v("Login")]),o("v-card-text",[o("v-text-field",{attrs:{label:"Usuário","prepend-icon":"mdi-account-circle"},model:{value:t.user.username,callback:function(e){t.$set(t.user,"username",e)},expression:"user.username"}}),o("v-text-field",{attrs:{label:"Senha",type:t.showPassword?"text":"password","prepend-icon":"mdi-lock","append-icon":t.showPassword?"mdi-eye":"mdi-eye-off"},on:{"click:append":function(e){t.showPassword=!t.showPassword}},model:{value:t.user.password,callback:function(e){t.$set(t.user,"password",e)},expression:"user.password"}})],1),o("v-divider"),o("v-card-actions",[o("v-btn",{attrs:{color:"success"},on:{click:t.login}},[t._v("Entrar")]),o("v-btn",{attrs:{color:"info"},on:{click:t.enterAsVisitor}},[t._v("Entrar como visitante")])],1)],1)],1),void 0],2)},W=[],H={data:function(){return{showPassword:!1,user:{username:"",password:""}}},methods:{login:function(){var t=this;this.$http.post("auth/token",this.user).then((function(e){t.$store.dispatch("setTokken",e.access_token),localStorage.setItem("user_logged",t.user),t.$router.push({path:"/catalog"})}))},enterAsVisitor:function(){localStorage.removeItem("user_logged"),this.$router.push({path:"/catalog"})}}},X=H,K=Object(f["a"])(X,J,W,!1,null,null,null),Q=K.exports,Y=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("v-container",{attrs:{fluid:""}},[o("v-row",[t.idAdminLogin?o("v-col",{attrs:{cols:t.columns}},[o("v-card",{attrs:{height:"280px"},on:{click:function(e){t.showForm=!0}}},[o("v-card-actions",{staticClass:"justify-center center"},[o("v-btn",{attrs:{elevation:"2",large:"",color:"secondary"}},[o("v-icon",[t._v("mdi-plus")])],1),o("v-card-title",[t._v(" Adicionar um novo alimento ")])],1)],1)],1):t._e(),t._l(t.cards,(function(e){return o("v-col",{key:e.id,attrs:{cols:t.columns}},[o("Card",{attrs:{food:e},on:{foodDeleted:t.updateCardList,selectCard:t.selectCard}})],1)}))],2),t.showForm?o("FoodModalForm",{attrs:{food:t.selectedCard},on:{foodSaved:t.updateCardList,cancel:t.reset}}):t._e()],1)},Z=[],tt=(o("b0c0"),function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("v-card",[o("v-img",{staticClass:"white--text align-end image",attrs:{src:t.food.urlImage,gradient:"to bottom, rgba(0,0,0,.1), rgba(0,0,0,.5)",height:"200px"}},[o("v-card-title",{domProps:{textContent:t._s(t.food.name)}}),o("div",{staticClass:"d-flex justify-space-between"},[o("v-card-subtitle",{domProps:{textContent:t._s(t.food.description)}}),t.userLogged?o("div",{staticClass:"ma-2"},[o("v-icon",{attrs:{color:"red",dark:""},on:{click:t.deleteFood}},[t._v(" mdi-delete-outline ")]),o("v-icon",{attrs:{color:"blue",dark:""},on:{click:function(e){return t.$emit("selectCard",t.food)}}},[t._v(" mdi-pencil-outline ")])],1):t._e()],1)],1),o("v-card-actions",[o("v-card-title",{domProps:{textContent:t._s("R$ "+t.food.price.toFixed(2))}}),o("v-spacer"),o("v-btn",{staticClass:"mx-2",attrs:{fab:"",dark:"","x-small":"",color:"red"},on:{click:t.removeAmount}},[o("v-icon",{attrs:{color:"white",dark:""}},[t._v(" mdi-minus ")])],1),o("div",[o("span",[t._v(t._s(t.amount))])]),o("v-btn",t._g(t._b({staticClass:"mx-2",attrs:{fab:"",dark:"","x-small":"",color:"#02ba70"},on:{click:t.addAmount}},"v-btn",t.attrs,!1),t.on),[o("v-icon",{attrs:{color:"white",dark:""}},[t._v(" mdi-plus ")])],1),o("v-spacer"),o("v-tooltip",{attrs:{bottom:""},scopedSlots:t._u([{key:"activator",fn:function(e){var a=e.on,r=e.attrs;return[o("v-btn",t._g(t._b({staticClass:"mx-2",attrs:{fab:"",dark:"","x-small":"",color:"primary"},on:{click:t.addToCart}},"v-btn",r,!1),a),[o("v-icon",{attrs:{color:"white",dark:""}},[t._v(" mdi-cart ")])],1)]}}])},[o("span",[t._v("Adicionar")])])],1)],1)}),et=[],ot=(o("a4d3"),o("e01a"),{data:function(){return{amount:0,userLogged:localStorage.getItem("user_logged")}},props:{food:{type:Object}},methods:{addAmount:function(){this.amount+=1},removeAmount:function(){this.amount>0&&(this.amount-=1)},addToCart:function(){this.$root.$emit("addToCart",{_id:this.food._id,title:this.food.name,description:this.food.description,category:this.food.category,price:this.food.price,urlImage:this.food.urlImage,amount:this.amount}),this.amount=0},deleteFood:function(){var t=this,e={headers:{Authorization:"Bearer "+this.$store.getters.getAcessToken}};this.$http.delete("foods/".concat(this.food._id),e).then((function(){t.$emit("foodDeleted")}))}}}),at=ot,rt=(o("bed4"),Object(f["a"])(at,tt,et,!1,null,null,null)),st=rt.exports,nt=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("v-dialog",{attrs:{"max-width":"1000px",persistent:"",value:!0}},[o("v-card",[o("v-card-title",{staticClass:"justify-center"},[o("span",{staticClass:"text-h5"},[t._v("Novo Alimento")])]),o("v-card-text",[o("v-form",{ref:"form"},[o("v-row",[o("v-col",{attrs:{cols:"12",sm:"6",md:"4"}},[o("v-text-field",{attrs:{label:"Nome",rules:[function(t){return!!t||"Preencha o campo nome"}]},model:{value:t.food.name,callback:function(e){t.$set(t.food,"name",e)},expression:"food.name"}})],1),o("v-col",{attrs:{cols:"12",sm:"6",md:"4"}},[o("v-autocomplete",{attrs:{label:"Categoria",items:["Bebida","Brasileira","Doce","Japonesa","Lanche","Pizza","Salgado","Vegetariana"],rules:[function(t){return!!t||"Preencha o campo categoria"}]},model:{value:t.food.category,callback:function(e){t.$set(t.food,"category",e)},expression:"food.category"}})],1),o("v-col",{attrs:{cols:"12",sm:"6",md:"4"}},[o("v-text-field",{attrs:{label:"Preço",type:"number",prefix:"R$",min:"0.1",rules:[function(t){return!!t||"Preencha o campo preço"}]},model:{value:t.food.price,callback:function(e){t.$set(t.food,"price",t._n(e))},expression:"food.price"}})],1),o("v-col",{attrs:{cols:"12"}},[o("v-text-field",{attrs:{label:"Descrição",rules:[function(t){return!!t||"Preencha o campo descrição"}]},model:{value:t.food.description,callback:function(e){t.$set(t.food,"description",e)},expression:"food.description"}})],1),o("v-col",{attrs:{cols:"12"}},[o("v-text-field",{attrs:{label:"Url da Imagem",rules:[function(t){return!!t||"Preencha o campo da imagem"}]},model:{value:t.food.urlImage,callback:function(e){t.$set(t.food,"urlImage",e)},expression:"food.urlImage"}})],1)],1)],1)],1),o("v-card-actions",[o("v-spacer"),o("v-btn",{attrs:{color:"blue darken-1",text:""},on:{click:function(e){return t.$emit("cancel")}}},[t._v(" Cancelar ")]),o("v-btn",{attrs:{color:"blue darken-1",text:""},on:{click:t.save}},[t._v(" Salvar ")])],1)],1)],1)},it=[],ct={props:{food:{type:Object}},data:function(){return{dialog:!1}},methods:{reset:function(){this.food={},this.dialog=!1},save:function(){var t=this;if(this.$refs.form.validate()){var e={headers:{Authorization:"Bearer "+this.$store.getters.getAcessToken}},o=Object(d["a"])({},this.food);o._id?this.$http.put("foods/".concat(o._id),o,e).then((function(){t.$emit("foodSaved"),t.reset()})):this.$http.post("foods",o,e).then((function(){t.$emit("foodSaved"),t.reset()}))}}}},lt=ct,dt=Object(f["a"])(lt,nt,it,!1,null,null,null),ut=dt.exports,mt={components:{Card:st,FoodModalForm:ut},data:function(){return{idAdminLogin:localStorage.getItem("user_logged"),cards:[],selectedCard:{},showForm:!1}},computed:{columns:function(){var t=6;switch(this.$vuetify.breakpoint.name){case"xs":t=12;break;case"sm":t=6;break;case"md":t=4;break;case"lg":t=4;break;case"xl":t=4;break}return t}},methods:{updateCardList:function(){var t=this;this.$http.get("foods").then((function(e){t.cards=e,t.reset()}))},selectCard:function(t){var e=Object(d["a"])({},t);this.selectedCard=e,this.showForm=!0},reset:function(){this.showForm=!1,this.selectedCard={}}},mounted:function(){this.updateCardList()}},ft=mt,vt=Object(f["a"])(ft,Y,Z,!1,null,null,null),pt=vt.exports,ht=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("v-container",[o("v-card",[o("v-card-title",[t._v(" Pedido #"+t._s(t.demand._id)+" ")]),o("v-card-text",[o("h2",{staticClass:"ma-2"},[t._v("Mesa: "+t._s(t.demand.table))]),o("v-timeline",{attrs:{"align-top":"",dense:""}},t._l(t.allStatus,(function(e){return o("v-timeline-item",{key:e,attrs:{color:e.color,small:""}},[o("div",[o("div",{staticClass:"font-weight-normal"}),o("div",[t._v(t._s(e.name))])])])})),1),o("div",{staticClass:"ma-6"},t._l(t.demand.foods,(function(e){return o("div",{key:e.title,staticClass:"item"},[o("v-img",{attrs:{"max-height":"10%","max-width":"10%",src:e.urlImage}}),o("div",{staticClass:"pa-2 ms-10"},[t._v(" "+t._s(e.title)+" ")]),o("v-spacer"),o("div",{staticClass:"text-h5 me-16"},[t._v(" "+t._s("R$ "+e.price)+" ")])],1)})),0)],1),o("v-card-actions",[o("div",{staticClass:"ma-4"},[o("v-btn",{staticClass:"ma-4",attrs:{color:"success"},on:{click:t.updateDemand}},[t._v(" Atualizar andamento ")]),o("v-btn",{attrs:{color:"primary"},on:{click:t.backToLogin}},[t._v(" Voltar a página inicial ")])],1)])],1)],1)},bt=[],gt=(o("a9e3"),o("c740"),o("a434"),{props:{demandId:{type:Number}},data:function(){return{demand:{foods:[]}}},methods:{updateDemand:function(){var t=this;this.$http.get("demands/".concat(this.demandId)).then((function(e){t.demand=e}))},backToLogin:function(){this.$store.dispatch("setTokken",""),localStorage.removeItem("user_logged"),this.$router.push("/login")}},computed:{allStatus:function(){var t=this,e=[{name:"Aguardando Confirmação",color:"red"},{name:"Em Andamento",color:"yellow"},{name:"A Faturar",color:"orange"},{name:"Concluído",color:"green"}],o=e.findIndex((function(e){return e.name==t.demand.status}));return o!=e.length&&e.splice(o+1,Number.MAX_VALUE),e}},created:function(){this.updateDemand()}}),_t=gt,kt=Object(f["a"])(_t,ht,bt,!1,null,null,null),wt=kt.exports,xt=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("v-conteiner",[o("DemandsTable")],1)},Ct=[],$t=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("v-container",[o("v-card",[o("v-data-table",{staticClass:"ma-6",attrs:{headers:t.headers,items:t.demands,search:t.search},scopedSlots:t._u([{key:"item._id",fn:function(e){var a=e.item;return[o("v-icon",{staticClass:"mr-2",attrs:{small:""},on:{click:function(e){return t.viewDemand(a._id)}}},[t._v(" mdi-note-text-outline ")]),o("span",[t._v(" "+t._s(a._id)+" ")])]}},{key:"item.actions",fn:function(e){var a=e.item;return[o("v-icon",{staticClass:"mr-2",attrs:{color:t.defineColorStatus(a.status)},on:{click:function(e){return t.updateDemandStatus(a)}}},[t._v(" mdi-check-decagram ")])]}}])})],1)],1)},yt=[],At=(o("5319"),o("5b81"),o("b64b"),o("99af"),{data:function(){return{demands:[],headers:[{text:"Código do pedido",value:"_id"},{text:"Status",value:"status",sortable:!0},{text:"Mesa",value:"table",sortable:!0},{value:"actions"}],colorStatus:{"AGUARDANDO_CONFIRMAÇÃO":"red",EM_ANDAMENTO:"yellow",A_FATURAR:"orange","CONCLUÍDO":"green"}}},methods:{updateDemands:function(){var t=this,e={headers:{Authorization:"Bearer "+this.$store.getters.getAcessToken}};this.$http.get("demands",e).then((function(e){t.demands=e}))},viewDemand:function(t){this.$router.push("demand/".concat(t))},defineColorStatus:function(t){return this.colorStatus[t.replaceAll(" ","_").toUpperCase()]},updateDemandStatus:function(t){var e=this;if("Concluído"!=t.status){var o={"Aguardando Confirmação":"WAITING","Em Andamento":"IN_PROGRESS","A Faturar":"WAIT_BILLING",Concluido:"DONE"},a={headers:{Authorization:"Bearer "+this.$store.getters.getAcessToken}},r=Object.keys(o),s=r.findIndex((function(e){return e==t.status})),n="demands/status/".concat(t._id,"/").concat(o[r[s+1]]);this.$http.put(n,null,a).then((function(){e.updateDemands()}))}}},mounted:function(){this.updateDemands()}}),St=At,Pt=Object(f["a"])(St,$t,yt,!1,null,null,null),Ot=Pt.exports,Tt={components:{DemandsTable:Ot}},Lt=Tt,jt=Object(f["a"])(Lt,xt,Ct,!1,null,null,null),Et=jt.exports;a["default"].use(S["a"]);var Ft=new S["a"]({mode:"history",routes:[{path:"/login",component:Q},{path:"/catalog",component:pt},{path:"/demand/:demandId",component:wt,props:!0},{path:"/demands",component:Et},{path:"/users",component:G},{path:"*",redirect:"/login"}]});Ft.beforeEach((function(t,e,o){localStorage.getItem("user_logged")||t.path,o()}));var It=Ft,Ut=o("2f62");a["default"].use(Ut["a"]);var Dt=new Ut["a"].Store({state:{acess_token:"",tableNumber:0},getters:{getAcessToken:function(t){return t.acess_token},getTableNumber:function(t){return t.tableNumber}},mutations:{setTokken:function(t,e){t.acess_token=e},setTableNumber:function(t,e){t.tableNumber=e}},actions:{setTokken:function(t,e){var o=t.commit;o("setTokken",e)},setTableNumber:function(t,e){var o=t.commit;o("setTableNumber",e)}}}),Nt=Dt;o("14fd");a["default"].config.productionTip=!1,new a["default"]({vuetify:A,router:It,store:Nt,render:function(t){return t(C)}}).$mount("#app")},a94f:function(t,e,o){},bed4:function(t,e,o){"use strict";o("a94f")},c53e:function(t,e,o){}});
//# sourceMappingURL=app.44022439.js.map